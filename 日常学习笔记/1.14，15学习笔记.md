# 1.14—15号学习笔记

开始今天和昨天的学习内容

## 用户输入与while循环

1. input函数   可以给用户输入的机会，而且可以显示信息来提示用户输入，具体：message=input("Tell me somethings :")    ps：提示信息也可以用变量来解决。
2. int函数，可以让字符串转化为整数类型（类比c语言）,可以在用的过程使用，也可以直接转化，类比c语言
3. 求余符号（%）,类比c语言。
4. while循环。
   - 形式：while +条件 :    类比c语言。
   - break 跳出循环
   - continue 跳出单次循环
   - while循环可以在列表之间移动元素，也可以删除包含特定值的所有元素列表。
   - 也可以让用户来填充字典元素。如respenses[name]=response.

## 函数

1. 函数
   + 函数的设置，用def 来实现，例：def greet_user(username)：其中username为给函数传递的参数。（可类比c语言）
   + 函数的参数分为实参和形参
   + 实参的意义和形参的意义
   + 函数可以调用多次
   + 实参有顺序，顺序与形参对应
   + 实参和形参也可以用关键字对应，比如：函数名（形参1=实参1，形参2=实参2）
   + 在定义函数时可以给形参设置默认值，具体方法和上一样
   + 等效的函数调用，函数调用有多种形式，不同形式输出结果可能一样。
   + 避免实参错误

2. 返回值与传递
   + 一个函数调用结束用return可以返回值，类比c语言
   + 可以让实参变为可选的，只需要让  形参=‘ ’   就可以
   + 也可以返回字典
   + 函数可以结合循环来返回多个值，也就是函数与循环结合。
   + 可以向函数传递列表来进行操作, 也可以在函数中修改列表。
   + 禁止修改列表可以用切片法  具体如   列表名[:]
   + 传递任一数量的形参，用地址(与c语言类似),如：def 函数名 （*形参名），这个形参相当于列表，但是有点不一样
   + 结合使用位实参和任意数量实参：方法是让位置形参发在任一数量形参前面。
   + 使用任一数量的关键字形参，具体方法为将形参名改为 **+形参名，这两个方法是让函数创建一个名为形参名的空字典。

3. 交互
   + 函数是可以导入的模块，模块是扩展名为.py的文件，在使用其他文件的模块时需要打开文件，具体方法是import + 文件名，打开文件后就能使用这个文件的所有函数。
   + 打开文件后也可以使用语法（句点表示法)，文件名 + . + 函数名 等同与 函数名
   + 还可以导入模块中特定的函数，具体方法为 from + 文件名 + import + 函数名。
   + 用 as 可以给导入的函数一个别名，防止命名冲突，具体用法为 from + 文件名 + import + 函数名 + as + 别名
   + 用as也可以给模块指定别名，方法为 import + 文件名 + as + 别名，这个时候可以用语法，别名+ . +函数名来使用。
   + 用*可以导入模块中所有函数，方法为 from 文件名 import *    
   + 在交互过程中要么就导入所需要的函数，要么就使用句点表示法，防止混乱

## 类：模拟任何东西

1. 创建和使用类
   + 具体用法：先class Dog（）[ 类名]，然后缩进加def设置初始信息和行为模式等
   + 方法1：\_init_() , 这个方法创建形参，必须包含，self，然后后面的根据需求来设置，如age，name之类的。这个初始化让self.name=name,self.age=age。便于后续使用，这种使用方式访问的变量称为属性。具体：def  \_init\_(self,name,age)，用法：my\_dog=Dog("whillian",5)。然后还可以添加其他方法，其他方法要加self，如def sit （self）。
   + 类的使用与调用。使用的话对于信息可以用my_dog.name（如上），调用为my_dog..sit().
   + 可以创建多个实例，调用多次。

2. 使用类和实例
   + 类的模块可以返回所需要的信息
   + 可以给属性设置默认值，在\_init\_()函数的下面加上所需的默认值。
   + 要用实例的话要在类里面去定义，然后在调用。调用一般是类.函数.

3. 修改属性的值
   + 要修改属性的值，最直接就是直接修改，具体是类.属性=xxx
   + 通过方法来修改。就是定义一个函数，在类里面去修改，再调用，不过修改或者定义类的函数都要加上self。
   + 也可以通过函数来实现递增与递减的操作。

4. 继承
   + 创建子类的方法：class + 子类名 +（父类名）。在类的定义中先初始化定义\_init\_ (),然后缩进用super（）函数：具体：super().\_init\_(属性)
   + 一个类继承另外一个类后，可以添加新的属性和方法，直接在后面如上述方法定义即可。
   + 重写父类的方法，覆盖即可，也就是在子类中定义一个方法与父类的方法同名，然后写下具体的操作即可。
   + 将实例作为属性，也就是套娃。用法：先设置一个实例，然后将这个实例放在另外一个实例的定义中，具体为：self.battery=Battery() 。然后再调用的时候可以用：my_tesla.battery.describe_battery()

4. 导入类
   + 可以导入其他文件的模块：具体用法：from 文件名 import 类名
   +  在一个模块中可以存储或者导入多个类。
   + 也可以导入整个模块，直接import +文件名
   + 也可以导入模块中的所有类：from 文件名 import *
   + 在一个模块中导入另外一个模块，需要在前一个模块导入必要的模块

## 文件和异常

1. 从文件中读取数据
   + 一般对于txt文件，用open（）函数，具体先 with open('文件名') as file_object:   然后用.read()函数，给一个变量赋值为file_object.read()，然后输出变量（记得缩进） （ps:用read函数会在末尾有空格，因为会返回一个空字符，可用rstrip函数处理）
   + open函数可以从路径来读取。window用的是反斜杠，也可以用变量来表示路径（记得'  '）。
   + 对对象使用for循环可以首先逐行读取，具体先打开文件，后用for，for line in file_object：然后输出，这样子会有很多个空行，因为在文件的每行末尾都会有一个看不见的换行符。
   + 使用with的时候，只有在with内才可以使用文件。如果要在外面也用文件的话，可以用列表来处理，有一个方法是用readlines来处理，具体就是变量名=文件代号（as）.readlines( )
   + 使用文件的内容 : 活用strip之类的函数。也可以用if语句来查找特殊的值什么的。

2. 写入文件
   + 要写文件，需要在打开文件的时候给open函数提供一个参数w，如open（filename，'w'）
   + r是读取模式，a是附加模式，r+是读取和写入模式
   + 然后写入文件用write函数，具体为file_object.write(“内容”)。
   +  写入多行时，需要加上换行符
   + 附加模式a是在原有文件的基础上，加入新的元素。

3. 异常
   + 有些时候程序可能出现异常，然后导致这个程序无法运行，使用try-except代码块可以让出现异常后，继续运行代码。具体为  try：操作   except  异常名：输出。
   + 用else代码块可以让这个程序运行，除了异常以外，其他条件都可以运行。（除法计算器），也就是成功运行后的操作。
   + 异常举例：ZeroDivisionError 和 FileNoteFoundError（0为除数和文件不存在）
   + 分析文本，使用split函数，可以将字符串以空格为分隔符将字符串分为多个部分。
   + 可以使用多个文件，用列表和循环加上函数完成计算多个文件单词数的操作。而且有异常程序也能正常进行。
   + 如果程序运行出现异常后想让它一声不吭，可以用pass操作。

4. 存储数据
   + json模块，在用的时候需要先打开，import json
   + json模块有两种，一个是json.dump 和 json.load.
   + json模块是存储到以json为文件后缀名的模块
   + json.dump 有两参数，第一个是需要存储的变量，第二个是文件名。
   + json.load有一个参数，就是文件名。然后会返回一些值，这两个函数的具体用法参照上述例子。
   + 这两个函数可以结合异常来实现两种不同的操作，一个是输入新用户的数据，一个是直接登录老用户。
   + 重构:重构是根据你的代码，进行模块化设计，将一个目标分为多个目标，已达到更加优秀的效果。

## 测试代码

### 测试函数

1. 测试模块  unittest  使用时先打开 unittest（import）
2. 然后创建一个类，来继承unittest.TestCase  
3. 然后在这个类来定义一个方法（这个方法以text_开头,自动运行）来测试，比如最简单的名字函数，先调用这个函数，然后再用self.assertEqual(a,b) 这个断言方法来判断是否成功。
4. 最后再用unittest.main() 来进行测试。

### 测试类

![](https://gitee.com/eslinyi/picture/raw/master/img/d642defeaf5f8943a88fb6620477fbd.jpg)

1.  测试类的话和测试函数方法相同，牢记上述断言方法，然后在测试中用类和断言来判断（断言都要加上self）
2. setUp()方法 这个方法的作用是创建一个答案列表，来为后续检验做服务。记得self来全局设置。

## 总结

这两天的内容就这样了，虽然有点晚，不过我整体上对python有了一个大体的把握